(()=>{"use strict";async function t(t,e,a){let i=a.getContext("2d");i.clearRect(0,0,a.width,a.height);for(let n=0;n<t.length;n++)i.fillStyle="pink",i.strokeRect(10*n,a.height-t[n],10,t[n]),i.fillRect(10*n,a.height-t[n],10,t[n]),1===e[n]&&(i.fillStyle="#46fa37",i.strokeRect(10*n,a.height-t[n],10,t[n]),i.fillRect(10*n,a.height-t[n],10,t[n]),e[n]=-1),0===e[n]&&(i.fillStyle="#ff2f",i.strokeRect(10*n,a.height-t[n],10,t[n]),i.fillRect(10*n,a.height-t[n],10,t[n]),e[n]=-1)}function e(t){return new Promise((e=>setTimeout(e,t)))}async function a(a,i,n){await async function(a,i,n){for(let l=0;l<a.length;l++){i[l]=1;for(let l=0;l<a.length;l++){if(a[l]>a[l+1]){let c=a[l];a[l]=a[l+1],a[l+1]=c,i[l]=0,await e(50),await t(a,i,n)}i[l]=1,await e(50),await t(a,i,n)}}}(a,i,n)}async function i(e,a,i){let l=e.length-1;await n(e,a,0,l,i),await t(e,a,i)}async function n(a,i,l,c,o){if(l>=c)return;let f=await async function(a,i,n,l,c){let o=a[l],f=n;for(let r=n;r<l;r++)if(a[r]<=o){let n=a[r];a[r]=a[f],a[f]=n,f++,i[r]=0,i[f]=1,await e(50),await t(a,i,c)}let r=a[l];return a[l]=a[f],a[f]=r,await e(50),await t(a,i,c),f}(a,i,l,c,o);await n(a,i,l,f-1,o),await n(a,i,f+1,c,o)}function l(t,e){t.disabled=!0,e.disabled=!0}function c(t,e){t.disabled=!1,e.disabled=!1}async function o(t,e,a){let i=t.length-1;0>=i||await f(t,e,a,0,i)}async function f(a,i,n,l,c){if(l>=c)return;let o=parseInt(.5*(l+c));await f(a,i,n,l,o),await e(50),await f(a,i,n,o+1,c),await e(50),await async function(t,e,a,i,n){let l=a,c=n+1,o=a,f=[];for(;l<=n&&c<=i;)t[l]>t[c]?f[o++]=t[c++]:f[o++]=t[l++];for(;l<=n;)f[o++]=t[l++];for(;c<=i;)f[o++]=t[c++];o=a;for(;o<=i;)e[o]=1,t[o]=f[o++]}(a,i,l,c,o),await e(50),await t(a,i,n)}const r=document.getElementById("my-canvas"),s=document.getElementById("method"),h=document.getElementById("reset"),w=document.getElementById("start");!function(){let{array:t,state:e}=((t,e)=>{let a=[],i=[];for(let n=0;n<t;n+=10){let t=Math.floor(Math.random(e)*e);a.push(t),i.push(-1)}return{array:a,state:i}})(r.width,r.height);!function(t,e){let a=t.getContext("2d");a.strokeStyle="#006fce",a.fillStyle="pink";let i=0;for(let n=0;n<e.length;n++)a.fillRect(i,t.height-e[n],10,e[n]),a.strokeRect(i,t.height-e[n],10,e[n]),i+=10}(r,t),w.addEventListener("click",(async()=>{let n=s.value;"m"===n?(l(w,s),await o(t,e,r),c(w,s)):"q"==n?(l(w,s),await i(t,e,r),c(w,s)):(l(w,s),await a(t,e,r),c(w,s))})),h.addEventListener("click",(()=>{window.location.reload()}))}()})();