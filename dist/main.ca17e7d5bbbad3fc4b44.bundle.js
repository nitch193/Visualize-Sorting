(()=>{"use strict";async function t(t,e,a){let i=a.getContext("2d");i.clearRect(0,0,a.width,a.height);for(let n=0;n<t.length;n++)i.fillStyle="pink",i.strokeRect(10*n,a.height-t[n],10,t[n]),i.fillRect(10*n,a.height-t[n],10,t[n]),1===e[n]&&(i.fillStyle="#46fa37",i.strokeRect(10*n,a.height-t[n],10,t[n]),i.fillRect(10*n,a.height-t[n],10,t[n]),e[n]=-1),0===e[n]&&(i.fillStyle="#ff2f",i.strokeRect(10*n,a.height-t[n],10,t[n]),i.fillRect(10*n,a.height-t[n],10,t[n]),e[n]=-1)}function e(t){return new Promise((e=>setTimeout(e,t)))}async function a(a,i,n){await async function(a,i,n){for(let l=0;l<a.length;l++){i[l]=1;for(let l=0;l<a.length;l++){if(a[l]>a[l+1]){let o=a[l];a[l]=a[l+1],a[l+1]=o,i[l]=0,await e(50),await t(a,i,n)}i[l]=1,await e(50),await t(a,i,n)}}}(a,i,n)}async function i(e,a,i){let l=e.length-1;await n(e,a,0,l,i),await t(e,a,i)}async function n(a,i,l,o,c){if(l>=o)return;let f=await async function(a,i,n,l,o){let c=a[l],f=n;for(let r=n;r<l;r++)if(a[r]<=c){let n=a[r];a[r]=a[f],a[f]=n,f++,i[r]=0,i[f]=1,await e(50),await t(a,i,o)}let r=a[l];return a[l]=a[f],a[f]=r,await e(50),await t(a,i,o),f}(a,i,l,o,c);await n(a,i,l,f-1,c),await n(a,i,f+1,o,c)}function l(t,e){t.disabled=!0,e.disabled=!0}function o(t,e){t.disabled=!1,e.disabled=!1}async function c(t,e,a){let i=t.length-1;0>=i||await f(t,e,a,0,i)}async function f(a,i,n,l,o){if(l>=o)return;let c=parseInt(.5*(l+o));await f(a,i,n,l,c),await e(50),await f(a,i,n,c+1,o),await e(50),await async function(t,e,a,i,n){let l=a,o=n+1,c=a,f=[];for(;l<=n&&o<=i;)t[l]>t[o]?f[c++]=t[o++]:f[c++]=t[l++];for(;l<=n;)f[c++]=t[l++];for(;o<=i;)f[c++]=t[o++];c=a;for(;c<=i;)e[c]=1,t[c]=f[c++]}(a,i,l,o,c),await e(50),await t(a,i,n)}const r=document.getElementById("my-canvas"),w=document.getElementById("method"),h=document.getElementById("reset"),s=document.getElementById("start");!function(){let{array:n,state:f}=((t,e)=>{let a=[],i=[];for(let n=0;n<t;n+=10){let t=Math.floor(Math.random(e)*e);a.push(t),i.push(-1)}return{array:a,state:i}})(r.width,r.height);!function(t,e){let a=t.getContext("2d");a.strokeStyle="#006fce",a.fillStyle="pink";let i=0;for(let n=0;n<e.length;n++)a.fillRect(i,t.height-e[n],10,e[n]),a.strokeRect(i,t.height-e[n],10,e[n]),i+=10}(r,n),s.addEventListener("click",(async()=>{let h=w.value;"m"===h?(l(s,w),await c(n,f,r),o(s,w)):"q"===h?(l(s,w),await i(n,f,r),o(s,w)):"b"===h?(l(s,w),await a(n,f,r),o(s,w)):"i"===h?(l(s,w),await async function(a,i,n){for(let l=1;l<a.length;l++){let o=a[l],c=l-1;for(i[l]=1;c>=0&&a[c]>o;)a[c+1]=a[c],i[c]=0,c--,await e(50),await t(a,i,n);a[c+1]=o,i[c]=0,i[l]=1,await e(50),await t(a,i,n)}}(n,f,r),o(s,w)):(l(s,w),await async function(a,i,n){for(let l=0;l<a.length;l++){let o=l;i[o]=1;for(let c=l+1;c<a.length;c++)a[c]<a[o]&&(o=c,i[o]=1,await e(50),await t(a,i,n));let c=a[l];a[l]=a[o],a[o]=c,i[l]=1,i[o]=0,await e(50),await t(a,i,n)}}(n,f,r),o(s,w))})),h.addEventListener("click",(()=>{window.location.reload()}))}()})();